@prefix gx: <https://registry.lab.gaia-x.eu/development/api/trusted-shape-registry/v1/shapes/jsonld/trustframework#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix merlot: <http://w3id.org/gaia-x/merlot#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix vcard: <http://www.w3.org/2006/vcard/ns#> .

merlot:MerlotLegalParticipantShape
    a sh:NodeShape ;
    sh:node gx:LegalParticipantShape ;
    sh:targetClass merlot:MerlotLegalParticipant ;
    sh:property
        # MERLOT specific
        [   sh:datatype xsd:string ;
            sh:description "Legal name of the entity." ;
            sh:maxCount 1 ;
            sh:name "legal name" ;
            sh:order 5 ;
            sh:path merlot:legalName 
        ],
        [
            sh:path merlot:termsAndConditions ;
            sh:minCount 1 ;
            sh:node merlot:ParticipantTermsAndConditionsShape ;
        ],
        [   skos:example "'L.L.C, GmbH'" ;
            sh:datatype xsd:string ;
            sh:description "Rechtsform"@de,
                "Legal form"@en ;
            sh:in ( "LLC" "Corporation" "Limited partnership (LP)" "Nonprofit corporation" "Gesellschaft mit beschränkter Haftung (GmbH)" "Aktiengesellschaft (AG)" "Einzelunternehmen" "Gesellschaft bürgerlichen Rechts (GbR)" "Offene Handelsgesellschaft (OHG)" "Kommanditgesellschaft (KG)" "Unternehmergesellschaft (haftungsbeschränkt)" "Sole Trader" "Unincorporated Association" "Partnership" "Limited Partnership" "Trust" "Limited Company" "Limited Liability Partnership (LLP)" "Community Interest Company (CIC)" "Charitable Incorporated Organisation (CIO)" "Co-operative Society (Co-op)" "Community Benefit Society (BenCom)" "other" ) ;
            sh:maxCount 1 ;
            sh:name "Rechtsform" ;
            sh:order 9 ;
            sh:path merlot:legalForm 
        ] .

# MERLOT specific
merlot:ParticipantTermsAndConditionsShape
    a sh:NodeShape ;
    sh:targetClass merlot:ParticipantTermsAndConditions ;
    sh:property
        [
            sh:path merlot:URL ;
            sh:name "URL" ;
            sh:description "a resolvable link to document" ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:datatype xsd:string
        ] ;
    sh:property
        [
            sh:path merlot:hash ;
            sh:name "hash" ;
            sh:minCount 1 ;
            sh:maxCount 1 ;
            sh:description "sha256 hash of the above document." ;
            sh:datatype xsd:string
        ] .